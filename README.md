# 旅行记账 AA - 智能分账助手

## 📂 项目结构

```
旅行记账AA/
├── index.html              # 首页
├── create.html            # 创建/编辑旅行
├── expenses.html          # 记账页面
├── settlement.html        # 结算页面
├── export.html            # 导出页面
├── app.js                # 首页逻辑
├── create.js             # 创建/编辑逻辑
├── expenses.js           # 记账逻辑
├── settlement.js         # 结算逻辑
├── export.js            # 导出逻辑
└── travel-expense-tracker.css  # 统一样式
```

## 🚀 快速开始

1. 直接用浏览器打开 `index.html` 文件
2. 点击"创建新旅行"
3. 填写旅行信息和添加成员
4. 开始记账和管理账单
5. 查看结算和导出报告

## ✨ 核心功能

### 1. 创建旅行
- 设置旅行名称、日期
- 添加成员（手机号/邮箱）
- 支持随时编辑

### 2. 灵活记账
- 支持多笔消费
- 多种货币（CNY、USD、EUR、JPY、KRW、THB）
- 自定义汇率
- 智能分类（交通、住宿、餐饮、购物等）

### 3. 多种分账模式
- 均摊：平均分配
- 按比例：自定义百分比
- 指定人：某人全额支付

### 4. 智能结算
- 多货币自动换算为人民币
- 自动计算债务网络
- 成员消费统计表
- 分类消费统计

### 5. 导出与分享
- PDF 导出（专业结算报告）
- 图片导出（高清分享）
- 分享链接（微信/邮件）

## 🎨 UI 特点

- 蓝绿色主题配色
- 简洁清晰的界面
- 响应式设计（适配移动端）
- 流畅的动画效果
- 纯 HTML/CSS/JS 实现

## 💾 数据存储

使用浏览器 `localStorage` 本地存储数据：
- 无需服务器
- 自动保存
- 刷新页面不丢失数据

## 📄 文件说明

### 页面文件
- `index.html` - 首页，功能导航
- `create.html` - 创建/编辑旅行
- `expenses.html` - 添加和管理账单
- `settlement.html` - 查看结算详情
- `export.html` - 导出结算报告

### 逻辑文件
- `app.js` - 首页逻辑
- `create.js` - 创建/编辑逻辑
- `expenses.js` - 记账逻辑
- `settlement.js` - 结算逻辑
- `export.js` - 导出逻辑

### 样式文件
- `travel-expense-tracker.css` - 所有页面的统一样式

## 🔧 PDF 导出说明

采用 **html2canvas + jsPDF** 方案：

1. 使用 html2canvas 将 DOM 渲染为高清图片（scale: 2）
2. 转换为 PNG 图片数据
3. 使用 jsPDF 添加图片到 PDF

**优点：**
- 完美支持中文
- 保持原始样式
- 高清清晰度
- 无需加载字体文件

## 📱 使用流程

### 首次使用
```
1. 打开 index.html
2. 点击"创建新旅行"
3. 填写旅行信息和成员
4. 保存后返回首页
```

### 记账流程
```
1. 在首页点击"记账"
2. 点击"添加账单"按钮
3. 填写账单信息
4. 保存账单
```

### 编辑旅行
```
1. 在首页点击"编辑"按钮
2. 修改旅行信息
3. 保存后更新所有页面
```

### 查看结算
```
1. 在首页点击"结算"
2. 查看详细统计数据
3. 查看债务网络
4. 导出结算报告
```

## 🎯 技术栈

- HTML5
- CSS3
- 原生 JavaScript (ES6+)
- Font Awesome (图标)
- html2canvas (图片生成)
- jsPDF (PDF 生成)

## 🌟 特色亮点

1. **多页面设计** - 每个功能独立页面
2. **随时编辑** - 创建后可随时修改旅行信息
3. **数据共享** - 页面间通过 localStorage 共享数据
4. **PDF 导出** - 解决中文乱码问题
5. **响应式布局** - 完美适配各种设备
6. **本地存储** - 无需后端，纯前端实现

## 📝 注意事项

- 数据存储在浏览器本地，清除浏览器数据会丢失
- 导出的 PDF 和图片通过浏览器下载
- 分享链接功能需要后端支持（当前为模拟链接）
- 建议定期导出数据作为备份

## 🔮 未来优化方向

- 添加数据导入/导出功能
- 支持多个旅行项目
- 云端数据同步
- 更多图表可视化
- 批量导入账单
